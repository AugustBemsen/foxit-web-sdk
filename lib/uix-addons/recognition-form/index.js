!function(e,o){"object"==typeof exports&&"object"==typeof module?module.exports=o(require("UIExtension")):"function"==typeof define&&define.amd?define(["UIExtension"],o):"object"==typeof exports?exports.RecognitionFormUIXAddon=o(require("UIExtension")):e.RecognitionFormUIXAddon=o(e.UIExtension)}(self,(function(e){return function(e){var o={};function t(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,o){if(1&o&&(e=t(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var r in e)t.d(n,r,function(o){return e[o]}.bind(null,r));return n},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},t.p="",t(t.s=0)}([function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n,r=function(e){if(e&&e.__esModule)return e;var o={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t]);return o.default=e,o}(t(1)),i=t(2),c=(n=i)&&n.__esModule?n:{default:n};function l(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function a(e,o){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?e:o}function u(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(e,o):function(e,o){for(var t=Object.getOwnPropertyNames(o),n=0;n<t.length;n++){var r=t[n],i=Object.getOwnPropertyDescriptor(o,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,o))}t(3);var f=r.PDFViewCtrl.Consts.PDFDocPermission,p=r.PDFViewCtrl.Events,d=function(e){function o(){return l(this,o),a(this,e.apply(this,arguments))}return u(o,e),o.getName=function(){return"recognitionForm"},o.getLoader=function(){return c.default},o.initOnLoad=function(){var e=!1,o=r.modular.module("recognition-form",[]);o.registerPreConfiguredComponent("recognition-form-button",{template:'<xbutton @tooltip name="recognition-form-button" icon-class="fv__icon-toolbar-recognition-form"></xbutton>',config:{target:"recognition-form-button",tooltip:{title:"recognition-form:tips.recognition"},callback:function(o){function t(){return l(this,t),a(this,o.apply(this,arguments))}return u(t,o),t.prototype.mounted=function(){var e=this;o.prototype.mounted.call(this),this.addDestroyHook(this.pdfUI.addViewerEventListener(p.openFileSuccess,(function(o){e.pdfUI.getPDFDocRender().then((function(e){return e.getUserPermission().getValue()})).then((function(o){f.ModifyDocument&o?e.component.unlock():e.component.lock()}))})))},t.prototype.handle=function(o){var t=this,n=this.getComponentByName("recognition-dialog");this.pdfUI.getCurrentPDFDoc().then((function(e){return e.autoRecognitionForm()})).then((function(o){t.component.lock&&t.component.lock(),0===o?t.pdfUI.alert("recognition-form:error.noFields","recognition-form:error.title",void 0,"warning"):(t.pdfUI.redraw(!0),!e&&n.show())}))},t}(r.Controller)}}),o.controller("HideDialog",{handle:function(){var e=this.getComponentByName("recognition-dialog");e&&e.hide()}}),o.controller("NotAgain",{handle:function(o){if("INPUT"===o.target.nodeName){var t=o.target;e=t.checked}}})},o.prototype.init=function(e){this.pdfUI=e,e.getRootComponent().then((function(e){e.append('\n                <layer name="recognition-dialog" class="fv__popup-dialog center fv__ui-recognition-dialog" @resizable backdrop style="max-height: calc(100vh - 40px); overflow: auto;">\n                    <layer-header title="recognition-form:dialog.title"></layer-header>\n                    <div class="fv__popup-recognition-body">\n                        recognition-form:dialog.content\n                        <div class="fv__popup-recognition-body-employee">Employee Name: \n                            <div class="fv__popup-recognition-body-employee-lever-1">1</div>\n                            <span><label>Employee Name</label></span>\n                            <div class="fv__popup-recognition-body-employee-lever-2">2</div>\n                        </div>\n                        recognition-form:dialog.description\n                    </div>\n                    <layer-toolbar class="fv__ui-recognition-bottom-bar">\n                        <label class="checkbox" @controller="recognition-form:NotAgain">\n                            <input type="checkbox" />\n                            <div data-i18n="recognition-form:dialog.notAgain"></div>\n                        </label>\n                        <xbutton data-action="OK" class="fv__ui-dialog-ok-button" @controller="recognition-form:HideDialog">dialog.ok</xbutton>\n                    </layer-toolbar>\n                </layer>\n            ')}))},o.prototype.destroy=function(){},o}(r.UIXAddon);o.default=d},function(o,t){o.exports=e},function(e,o){e.exports=null},function(e,o,t){}]).default}));